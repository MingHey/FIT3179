{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A simple radial chart showing the distribution of packaging style among countries",
  "height": 500,
  "width": 600,
  "data": {
    "url": "https://raw.githubusercontent.com/MingHey/FIT3179/main/ramen_ratings/data/ramen_ratings.csv"
  },
  "selection": {
            "Parameter": {
              "type": "single",
              "fields": ["Country"],
              "bind": {
                "input": "select",
                "options": [
                  "Japan",
                  "United States of America",
                  "South Korea",
                  "Taiwan",
                  "Thailand",
                  "China",
                  "Malaysia",
                  "Hong Kong",
                  "Indonesia",
                  "Singapore",
                  "Vietnam",
                  "United Kingdom"
                ]
              }
            }
  },
  "transform": [
    {
    "filter": {
        "field": "Style",
        "oneOf": ["Cup", "Pack", "Bowl", "Tray"]
      }
    }
  ],
  "layer": [{
    "mark": {"type": "arc", "innerRadius": 20, "stroke": "#ffff"}
  },
  {
    "mark": {"type": "text", "radiusOffset": 90, "fontSize": 18},
    "encoding": {
      "text": {"aggregate": "count", "field": "Style", "type": "quantitative"}
    }
  }],
  "encoding": {
    "theta": {
      "condition": {
        "aggregate": "count",
        "field": "Style",
        "type": "quantitative",
        "stack": true,
        "selection": "Parameter"
      }
    },
    "radius": {
      "condition": {
        "aggregate": "count", 
        "field": "Style", 
        "type": "quantitative", 
        "scale": {
          "type": "symlog", 
          "zero": true, 
          "rangeMin": 20, 
          "rangeMax": 200},
        "selection": "Parameter"
    }
    },
    "color": {
        "field": "Style",
        "type": "nominal",
        "legend": {"labelFontSize": 20, "titleFontSize": 15, "padding": 40}
    }
  },
  "view": {"stroke": null}
}
